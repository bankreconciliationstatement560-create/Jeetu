<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® AI Life World - CREATE YOUR FAMILY! ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</title>
    <style>
        :root {
            --bg: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%);
            --card: rgba(255,255,255,0.98);
            --text: #2d3436;
            --accent: #ff6b6b;
            --success: #00b894;
            --border: rgba(255,255,255,0.3);
        }
        [data-theme="dark"] {
            --bg: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%);
            --card: rgba(45,52,54,0.98);
            --text: #e9ecef;
            --accent: #fd79a8;
            --success: #00b894;
            --border: rgba(255,255,255,0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; }
        
        .setup-modal { position: fixed; inset: 0; z-index: 10000; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; }
        .setup-card { background: var(--card); border-radius: 25px; padding: 40px; max-width: 90vw; max-height: 90vh; overflow-y: auto; border: 3px solid var(--accent); }
        
        .header { position: fixed; top: 0; left: 0; right: 0; background: var(--card); padding: 15px 20px; z-index: 1000; box-shadow: 0 5px 20px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 15px; }
        .theme-panel { display: flex; gap: 10px; }
        .theme-btn { width: 45px; height: 45px; border: none; border-radius: 50%; cursor: pointer; font-size: 18px; }
        .theme-btn.active { border: 3px solid white; transform: scale(1.1); }
        .search-bar { flex: 1; padding: 12px 20px; border: 2px solid var(--border); border-radius: 25px; background: rgba(255,255,255,0.8); }
        
        .container { max-width: 1200px; margin: 80px auto 20px; padding: 0 15px; display: grid; grid-template-columns: 1fr 380px; gap: 25px; }
        @media (max-width: 900px) { .container { grid-template-columns: 1fr; } }
        
        .card { background: var(--card); border-radius: 20px; padding: 25px; margin-bottom: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border: 1px solid var(--border); }
        
        .family-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px; margin-top: 20px; }
        .family-member { padding: 20px; border-radius: 15px; text-align: center; cursor: pointer; transition: all 0.3s; border: 2px solid transparent; background: rgba(255,255,255,0.3); }
        .family-member:hover { transform: translateY(-3px); border-color: var(--accent); }
        .family-member.active { border-color: var(--success); background: rgba(0,184,148,0.2); }
        .family-icon { font-size: 36px; margin-bottom: 10px; }
        
        .wallet-balance { font-size: 36px; font-weight: 900; color: var(--success); text-align: center; margin: 15px 0; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 15px; }
        .item { padding: 20px; border-radius: 15px; text-align: center; cursor: pointer; transition: all 0.3s; border: 2px solid transparent; }
        .item:hover { transform: translateY(-5px); border-color: var(--accent); }
        .item.selected, .item.affordable { border-color: var(--success); background: rgba(0,184,148,0.1); }
        
        .love-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border); }
        .avatar-large { width: 70px; height: 70px; border-radius: 50%; background: var(--accent); display: flex; align-items: center; justify-content: center; font-size: 28px; }
        .love-meter { background: linear-gradient(90deg, #ff4757 0%, #ffa502 50%, #00b894 100%); color: white; padding: 10px 20px; border-radius: 25px; font-weight: bold; }
        
        .chat-messages { height: 400px; overflow-y: auto; border: 2px dashed var(--border); border-radius: 15px; padding: 15px; margin-bottom: 15px; background: rgba(255,255,255,0.1); }
        .message { margin-bottom: 12px; opacity: 0; animation: slideIn 0.3s forwards; }
        @keyframes slideIn { to { opacity: 1; } }
        .user { text-align: right; } .ai { text-align: left; }
        .message-content { display: inline-block; max-width: 80%; padding: 12px 18px; border-radius: 20px; }
        .user .message-content { background: var(--accent); color: white; }
        .ai .message-content { background: linear-gradient(135deg, #f093fb, #f5576c); color: white; }
        
        .input-row { display: flex; gap: 10px; align-items: center; margin-bottom: 10px; }
        .chat-input { flex: 1; padding: 12px 18px; border: 2px solid var(--border); border-radius: 25px; background: rgba(255,255,255,0.7); font-size: 16px; }
        .btn { padding: 12px 20px; background: var(--success); color: white; border: none; border-radius: 25px; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        .quick-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 10px; }
        .quick-btn { padding: 10px; background: rgba(255,255,255,0.5); border: none; border-radius: 15px; font-size: 14px; cursor: pointer; }
        
        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; font-weight: bold; margin-bottom: 8px; }
        .input-group input { width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 15px; background: rgba(255,255,255,0.8); font-size: 16px; }
    </style>
</head>
<body data-theme="light">
    <!-- FIRST TIME SETUP -->
    <div class="setup-modal" id="setupModal">
        <div class="setup-card">
            <h2 style="text-align: center; margin-bottom: 30px; font-size: 28px;">âœ¨ Create Your Family! ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦</h2>
            
            <div class="input-group">
                <label>ğŸ® Your Name</label>
                <input type="text" id="userName" placeholder="Rahul" value="Rahul">
            </div>
            
            <div class="input-group">
                <label>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Create Family Members</label>
                <div class="family-grid" id="familyGrid">
                    <div class="family-member active" data-type="mom">
                        <div class="family-icon">ğŸ‘©</div>
                        <input type="text" placeholder="Mom's name" class="family-input">
                    </div>
                    <div class="family-member" data-type="dad">
                        <div class="family-icon">ğŸ‘¨</div>
                        <input type="text" placeholder="Dad's name" class="family-input">
                    </div>
                    <div class="family-member" data-type="gf">
                        <div class="family-icon">ğŸ˜</div>
                        <input type="text" placeholder="GF/Wife name" class="family-input">
                    </div>
                    <div class="family-member" data-type="sister">
                        <div class="family-icon">ğŸ‘§</div>
                        <input type="text" placeholder="Sister name" class="family-input">
                    </div>
                </div>
            </div>
            
            <button class="btn" style="width: 100%; font-size: 18px; padding: 18px;" onclick="completeSetup()">ğŸš€ Start My Life!</button>
        </div>
    </div>

    <!-- MAIN APP -->
    <div class="header" style="display: none;" id="mainHeader">
        <div class="theme-panel">
            <button class="theme-btn active" onclick="setTheme('light')">â˜€ï¸</button>
            <button class="theme-btn" onclick="setTheme('dark')">ğŸŒ™</button>
            <button class="theme-btn" onclick="setTheme('purple')">ğŸ’œ</button>
        </div>
        <input type="text" class="search-bar" id="globalSearch" placeholder="ğŸ” Search family/jobs...">
    </div>

    <div class="container" style="display: none;" id="mainApp">
        <div>
            <div class="card">
                <div style="font-size: 50px; text-align: center;">ğŸ’°</div>
                <div style="font-size: 20px; font-weight: bold; text-align: center; margin-bottom: 10px;">
                    Welcome <span id="userDisplayName">Rahul</span>!
                </div>
                <div class="wallet-balance" id="wallet">$100</div>
            </div>

            <div class="card">
                <h3 style="text-align: center; margin-bottom: 20px;">ğŸ’¼ Quick Jobs</h3>
                <div class="grid">
                    <div class="item" onclick="quickJob('delivery', 50)"><div style="font-size: 36px;">ğŸ“¦</div>Delivery $50</div>
                    <div class="item" onclick="quickJob('waiter', 40)"><div style="font-size: 36px;">ğŸ½ï¸</div>Waiter $40</div>
                    <div class="item" onclick="quickJob('driver', 60)"><div style="font-size: 36px;">ğŸš—</div>Driver $60</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="love-header">
                <div class="avatar-large" id="currentAvatar">ğŸ˜</div>
                <div style="font-size: 22px; font-weight: bold; flex: 1;" id="currentName">Aisha</div>
                <div class="love-meter" id="currentLove">Love: 0%</div>
            </div>
            <div class="chat-messages" id="chatMessages"></div>
            <div class="input-row">
                <input class="chat-input" id="chatInput" placeholder="Talk to family..." onkeypress="if(event.key==='Enter') sendChat()">
                <button class="btn" onclick="sendChat()">Send ğŸ’Œ</button>
            </div>
            <div class="quick-grid">
                <button class="quick-btn" onclick="quickChat('I love you!')">I love you!</button>
                <button class="quick-btn" onclick="quickChat('Job kiya!')">Job kiya!</button>
                <button class="quick-btn" onclick="quickChat('Gift! ğŸ')">Gift!</button>
            </div>
        </div>
    </div>

    <script>
        let user = {name: 'Rahul'};
        let family = [];
        let wallet = 100;
        let currentChar = {};
        let voiceEnabled = false;
        let memories = [];
        
        // FIRST TIME SETUP
        if(!localStorage.getItem('familyCreated')) {
            document.getElementById('setupModal').style.display = 'flex';
        } else {
            loadGame();
        }
        
        function completeSetup() {
            user.name = document.getElementById('userName').value || 'Rahul';
            
            // Create family from inputs
            document.querySelectorAll('.family-member').forEach(member => {
                const name = member.querySelector('.family-input').value || member.dataset.type;
                const type = member.dataset.type;
                const emojis = {
                    mom: 'ğŸ‘©', dad: 'ğŸ‘¨', gf: 'ğŸ˜', sister: 'ğŸ‘§',
                    brother: 'ğŸ‘¦', ex: 'ğŸ˜¢', friend: 'ğŸ˜Š'
                };
                family.push({
                    name: name.charAt(0).toUpperCase() + name.slice(1),
                    type: type,
                    emoji: emojis[type] || 'ğŸ˜Š',
                    love: type === 'gf' ? 0 : 50
                });
            });
            
            localStorage.setItem('user', JSON.stringify(user));
            localStorage.setItem('family', JSON.stringify(family));
            localStorage.setItem('wallet', wallet);
            localStorage.setItem('familyCreated', 'true');
            
            loadGame();
        }
        
        function loadGame() {
            user = JSON.parse(localStorage.getItem('user') || '{"name":"Rahul"}');
            family = JSON.parse(localStorage.getItem('family') || '[]');
            wallet = parseInt(localStorage.getItem('wallet') || 100);
            
            if(family.length === 0) {
                family = [{name:'Aisha', type:'gf', emoji:'ğŸ˜', love:0}, {name:'Mummy', type:'mom', emoji:'ğŸ‘©', love:50}];
            }
            
            currentChar = family[0];
            document.getElementById('setupModal').style.display = 'none';
            document.getElementById('mainHeader').style.display = 'flex';
            document.getElementById('mainApp').style.display = 'block';
            document.getElementById('userDisplayName').textContent = user.name;
            document.getElementById('wallet').textContent = `$${wallet}`;
            document.getElementById('currentAvatar').textContent = currentChar.emoji;
            document.getElementById('currentName').textContent = currentChar.name;
            document.getElementById('currentLove').textContent = `${currentChar.type === 'gf' ? 'Love' : 'Affection'}: ${currentChar.love}%`;
            
            addChat('System', `Welcome back ${user.name}! Your family is ready! ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦`);
        }
        
        function quickJob(job, salary) {
            wallet += salary;
            localStorage.setItem('wallet', wallet);
            document.getElementById('wallet').textContent = `$${wallet}`;
            addChat('System', `âœ… ${job}! +$${salary} earned!`);
            if(currentChar.type === 'gf') currentChar.love += 2;
            updateLoveDisplay();
        }
        
        function sendChat() {
            const msg = document.getElementById('chatInput').value.trim();
            if(!msg) return;
            addChat('You', msg);
            document.getElementById('chatInput').value = '';
            
            setTimeout(() => {
                let reply;
                if(currentChar.type === 'gf') {
                    if(msg.includes('gift') || msg.includes('ğŸ')) reply = 'Aww baby! Gift de do na! Love +10% hoga ğŸ˜ğŸ’';
                    else if(msg.includes('love')) reply = 'I love you too baby! Mmmwah ğŸ˜˜ğŸ’‹';
                    else reply = `Hii jaan! Tumhara din kaisa tha? Job kiya? ğŸ’•`;
                } else if(currentChar.type === 'mom') {
                    reply = `Beta khush raho! Job achi chal rahi na? Khana khaya? â¤ï¸`;
                } else if(currentChar.type === 'dad') {
                    reply = `Beta mehnat karte raho! Success zaroor milegi! ğŸ’ª`;
                } else {
                    reply = `${currentChar.name} loves you ${user.name}! â¤ï¸`;
                }
                addChat(currentChar.name, reply);
            }, 1200);
        }
        
        function quickChat(msg) {
            document.getElementById('chatInput').value = msg;
            sendChat();
        }
        
        function updateLoveDisplay() {
            document.getElementById('currentLove').textContent = `${currentChar.type === 'gf' ? 'Love' : 'Affection'}: ${currentChar.love}%`;
        }
        
        function addChat(sender, text) {
            const chat = document.getElementById('chatMessages');
            const div = document.createElement('div');
            div.className = `message ${sender==='You' ? 'user' : 'ai'}`;
            div.innerHTML = `<div class="message-content">${sender}: ${text}</div>`;
            chat.appendChild(div);
            chat.scrollTop = chat.scrollHeight;
        }
        
        function setTheme(t) {
            document.documentElement.setAttribute('data-theme', t);
            document.querySelectorAll('.theme-btn').forEach(b=>b.classList.remove('active'));
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
